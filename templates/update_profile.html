{% extends 'base.html' %}

{% block stylesheet %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        img { border:2px solid #999; border-radius: 10px; }
        td { line-height:100%; vertical-align:middle; }
    </style>
{% endblock %}

{% block main %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <h2 class="text-center">회원정보 수정</h2>
        <form method="POST" action="{{ url_for('edit_profile',user_id=user.userid) }}"  enctype="multipart/form-data">
            <!-- 이름 -->
            <div class="mb-3">
                <label for="username" class="form-label">이름</label>
                <input type="text" class="form-control" id="username" name="username" value="{{ user.username }}" required>
            </div>

            <!-- 아이디 -->
            <div class="mb-3">
                <label for="userid" class="form-label">아이디</label>
                <input type="text" class="form-control" id="userid" name="userid" value="{{ user.userid }}" required readonly>
            </div>

            <!-- 비밀번호 -->
            <div class="mb-3">
                <label for="password" class="form-label">비밀번호</label>
                <input type="password" class="form-control" id="password" name="password">
                <small class="text-muted">비밀번호를 변경하려면 새 비밀번호를 입력하세요.</small>
            </div>

            <!-- 비밀번호 확인 -->
            <div class="mb-3">
                <label for="confirm_password" class="form-label">비밀번호 확인</label>
                <input type="password" class="form-control" id="confirm_password" name="confirm_password">
            </div>

            <!-- 전화번호 -->
            <div class="mb-3">
                <label for="phone_number" class="form-label">전화번호</label>
                <input type="text" class="form-control" id="phone_number" name="phone_number" value="{{ user.phonenumber }}">
            </div>

            <!-- 주소 -->
            <div class="mb-3">
                <label for="address" class="form-label">주소</label>
                <input type="text" class="form-control" id="address" name="address" value="{{ user.address }}">
            </div>

            <!-- 프로필 사진 파일 업로드 -->
            <div class="mb-3">
                <label for="file" class="form-label">프로필 사진 파일 업로드</label>
                <input type="file" class="form-control" id="file" name="file">
                <small class="text-muted">이미지 파일을 업로드하려면 선택하세요.</small>
            </div>

            <button type="submit" class="btn btn-primary w-100">수정 완료</button>
        </form>
        <div class="text-center mt-3">
            <a href="{{ url_for('profile',user_id=user.userid) }}">프로필로 돌아가기</a>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
